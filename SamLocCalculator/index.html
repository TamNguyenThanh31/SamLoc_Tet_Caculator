<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√¢m L·ªëc T·∫øt - T√≠nh ti·ªÅn</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>S√¢m L·ªëc T·∫øt</h1>

    <!-- C·∫•u h√¨nh ti·ªÅn -->
    <div class="card card-settings">
        <label for="bet-per-card">S·ªë ti·ªÅn 1 l√° (k):</label>
        <input type="number" id="bet-per-card" min="1" step="1" placeholder="1" title="V√≠ d·ª•: 1 = 1.000ƒë/l√°, 2 = 2.000ƒë/l√°">
        <p class="settings-hint">Ch·∫∑t heo = 20 l√° ¬∑ C√≥ng = 15 l√° ¬∑ B√°o s√¢m = 20 l√° √ó (s·ªë ng∆∞·ªùi - 1)</p>
    </div>

    <!-- Player Management -->
    <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <h2>Ng∆∞·ªùi Ch∆°i <span style="font-size:0.75em; font-weight:400; color:var(--tet-text-muted);">(2‚Äì5 ng∆∞·ªùi)</span></h2>
            <button id="add-player-btn">+ Th√™m</button>
        </div>
        <div id="player-list" class="player-list">
            <!-- Render Players Here -->
            <p style="text-align:center; color: var(--tet-text-muted);">Ch∆∞a c√≥ ng∆∞·ªùi ch∆°i. B·∫•m "Th√™m" ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
        </div>
    </div>

    <!-- Actions -->
    <div class="card" style="display: flex; gap: 10px; justify-content: center;">
        <button id="new-round-btn" style="flex: 2;">NH·∫¨P K·∫æT QU·∫¢ V√ÅN</button>
        <button id="chat-heo-btn" class="secondary" style="flex: 1;">Ch·∫∑t Heo</button>
    </div>

    <!-- History -->
    <div class="card">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
            <h2>L·ªãch S·ª≠</h2>
            <button id="reset-game-btn" class="danger" style="font-size: 0.8em;">Ch∆°i L·∫°i</button>
        </div>
        <div id="history-list" class="history-list">
            <!-- Log Here -->
        </div>
    </div>
</div>

<!-- Modal: Nh·∫≠p K·∫øt Qu·∫£ V√°n -->
<div id="round-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 style="margin-bottom:15px; text-align:center;">K·∫øt Qu·∫£ V√°n</h2>
        
        <div class="tab">
            <button class="tablinks active" onclick="openTab(event, 'NormalWin')">Nh·∫•t Th∆∞·ªùng</button>
            <button class="tablinks" onclick="openTab(event, 'BaoSam')">B√°o S√¢m</button>
        </div>

        <!-- Tab 1: Nh·∫•t Th∆∞·ªùng -->
        <div id="NormalWin" class="tabcontent" style="display:block;">
            <label>Ng∆∞·ªùi V·ªÅ Nh·∫•t:</label>
            <select id="winner-select" class="player-select">
                <!-- Options -->
            </select>
            
            <div id="losers-container" class="mt-2">
                <!-- Loser inputs generated by JS -->
            </div>
            
            <button id="submit-normal" class="w-full mt-2" style="background:var(--secondary-color); color:red;">X√°c Nh·∫≠n</button>
        </div>

        <!-- Tab 2: B√°o S√¢m -->
        <div id="BaoSam" class="tabcontent">
            <label>Ng∆∞·ªùi B√°o S√¢m:</label>
            <select id="sam-reporter" class="player-select mb-2"></select>

            <label>K·∫øt Qu·∫£:</label>
            <select id="sam-result" class="mb-2">
                <option value="success">Th√†nh C√¥ng (ƒÇn c·∫£ l√†ng)</option>
                <option value="fail">Th·∫•t B·∫°i (ƒê·ªÅn S√¢m)</option>
            </select>

            <label>Ng∆∞·ªùi B·∫Øt S√¢m (N·∫øu th·∫•t b·∫°i):</label>
            <select id="sam-blocker" class="player-select" data-allow-none="true"></select>
            <p style="font-size:0.8em; color:#888; margin-top:5px;">*Ng∆∞·ªùi b·∫Øt s√¢m s·∫Ω nh·∫≠n ti·ªÅn ƒë·ªÅn. N·∫øu ƒë·ªÉ tr·ªëng 'L√†ng', ti·ªÅn ƒë·ªÅn chia ƒë·ªÅu.</p>

            <button id="submit-sam" class="w-full mt-2" style="background:var(--secondary-color); color:black;">X√°c Nh·∫≠n S√¢m</button>
        </div>
    </div>
</div>

<!-- Modal: Ch·∫∑t Heo -->
<div id="chat-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 style="margin-bottom:15px; text-align:center;">S·ªï Tr·ª£ Nhanh (Ch·∫∑t Heo)</h2>
        <p style="text-align:center; color:#ccc; margin-bottom:10px;">Ch·∫∑t xong t√≠nh ti·ªÅn li·ªÅn!</p>

        <label id="chat-heo-label">Ng∆∞·ªùi Ch·∫∑t (ƒÇn 20 l√°):</label>
        <select id="chat-winner" class="player-select mb-2"></select>

        <label id="chat-heo-lose-label">B·ªã Ch·∫∑t (M·∫•t 20 l√°):</label>
        <select id="chat-loser" class="player-select mb-2"></select>

        <button id="confirm-chat" class="w-full mt-2">X√°c Nh·∫≠n Chuy·ªÉn Ti·ªÅn</button>
    </div>
</div>

<!-- Popup th√¥ng b√°o (thay alert) -->
<div id="popup-alert-overlay" class="popup-overlay">
    <div class="popup-box">
        <div id="popup-alert-icon" class="popup-icon">‚ö†Ô∏è</div>
        <div id="popup-alert-message" class="popup-message"></div>
        <div class="popup-actions">
            <button id="popup-alert-ok">ƒê·ªìng √Ω</button>
        </div>
    </div>
</div>

<!-- Popup x√°c nh·∫≠n (thay confirm) -->
<div id="popup-confirm-overlay" class="popup-overlay">
    <div class="popup-box">
        <div id="popup-confirm-icon" class="popup-icon">‚ùì</div>
        <div id="popup-confirm-message" class="popup-message"></div>
        <div class="popup-actions">
            <button id="popup-confirm-cancel" class="btn-cancel">H·ªßy</button>
            <button id="popup-confirm-ok">ƒê·ªìng √Ω</button>
        </div>
    </div>
</div>

<!-- Popup nh·∫≠p t√™n (thay prompt) -->
<div id="popup-prompt-overlay" class="popup-overlay">
    <div class="popup-box">
        <div class="popup-icon">üë§</div>
        <div id="popup-prompt-title" class="popup-title">Th√™m ng∆∞·ªùi ch∆°i</div>
        <div id="popup-prompt-message" class="popup-message" style="margin-bottom:12px;"></div>
        <input type="text" id="popup-prompt-input" class="popup-input" placeholder="Nh·∫≠p t√™n..." maxlength="30" autocomplete="off">
        <div class="popup-actions">
            <button id="popup-prompt-cancel" class="btn-cancel">H·ªßy</button>
            <button id="popup-prompt-ok">Xong</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
